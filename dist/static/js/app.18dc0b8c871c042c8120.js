webpackJsonp([1],{0:function(t,e){},FzvS:function(t,e){},G4OD:function(t,e){},GK12:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("BO1k"),r=s.n(n),i={name:"Game",data:function(){return{gameStarted:!1,gameOver:!1,userInputDirection:"",snakeArr:[],foodLoc:{},score:0,gameStatus:"",showReadyButton:!1}},methods:{readyUp:function(){this.$store.dispatch("readyUp"),this.gameStatus="Awaiting Other Player...",this.showReadyButton=!1},drawSVG:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height",500),t.setAttribute("width",500),t.setAttribute("style","background-color:black"),t.setAttribute("id","board0"),document.getElementById("gameBoard").append(t),this.drawBoard(500,500)},drawBoard:function(t,e){for(var s=5;s<=Math.floor(t);s+=10)for(var a=5;a<=Math.floor(e);a+=10)this.drawCircle(a,s,"translucent")},paintSnake:function(t,e){var s=!0,a=!1,n=void 0;try{for(var i,o=r()(t);!(s=(i=o.next()).done);s=!0){var c=i.value;this.paintCell(c.x,c.y,"translucent")}}catch(t){a=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw n}}var l=!0,d=!1,u=void 0;try{for(var m,v=r()(e);!(l=(m=v.next()).done);l=!0){var h=m.value;this.paintCell(h.x,h.y,"red")}}catch(t){d=!0,u=t}finally{try{!l&&v.return&&v.return()}finally{if(d)throw u}}},paintFood:function(t,e){t&&this.paintCell(t.x,t.y,"translucent"),e&&this.paintCell(e.x,e.y,"blue")},paintCell:function(t,e,s){window.$("#"+t+"-"+e).attr("fill",s)},drawCircle:function(t,e,s){var a=document.createElementNS("http://www.w3.org/2000/svg","circle");window.$(a).attr("fill",s),window.$(a).attr("cx",t),window.$(a).attr("cy",e),window.$(a).attr("r",5),window.$(a).attr("id",Math.floor(t/10)+1+"-"+(Math.floor(e/10)+1)),window.$("#board0").append(a)},showOverlay:function(){return!1===this.gameStarted||!0===this.showReadyButton},playAgain:function(){this.$store.dispatch("playAgain",this.currentChatRoom)}},created:function(){var t=this;window.addEventListener("keydown",function(e){!0===t.gameStarted&&"body"===e.target.localName&&("w"===e.key?t.userInputDirection="UP":"a"===e.key?t.userInputDirection="LEFT":"s"===e.key?t.userInputDirection="DOWN":"d"===e.key&&(t.userInputDirection="RIGHT"),t.$store.dispatch("sendGameCommand",{roomId:t.currentChatRoom,userInputDirection:t.userInputDirection}))})},computed:{currentChatRoom:function(){return this.$store.getters.currentChatRoom}},mounted:function(){var t=this;this.drawSVG(),this.$options.sockets.GAME_UPDATE=function(e){if(e){t.paintFood(t.foodLoc,e.foodLoc),t.foodLoc=e.foodLoc,t.score=e.score;var s=e.gameStatus;"Awaiting Ready Up"===s?(t.gameStarted=!1,t.showReadyButton=!0,t.gameOver=!1,t.gameStatus="Waiting for both players to Ready Up..."):"Active"===s?(t.gameStatus="Game Active",t.showReadyButton=!1,t.gameStarted=!0):"Completed"===s&&(t.gameStatus="Game Over",t.gameStarted=!1,t.gameOver=!0),t.paintSnake(t.snakeArr,e.snakeArr),t.snakeArr=e.snakeArr}}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"gameContainer"},on:{keyup:function(e){t.keyPress(e)}}},[t.gameStarted?s("span",[t._v("Score: "+t._s(t.score))]):t._e(),t._v(" "),s("div",{attrs:{id:"gameBoard"}},[t.showOverlay?s("div",{staticClass:"has-text-centered",attrs:{id:"boardOverlay"}},[s("div",{attrs:{id:"boardOverlayCentered"}},[s("div",[t.gameStarted?t._e():s("span",{attrs:{id:"gameStatusText"}},[t._v(t._s(t.gameStatus))])]),t._v(" "),t.showReadyButton?s("a",{staticClass:"button is-success",on:{click:t.readyUp}},[t._v("Ready Up")]):t._e(),t._v(" "),t.gameOver?s("a",{staticClass:"button is-success",on:{click:t.playAgain}},[t._v("Play Again")]):t._e()])]):t._e()]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"howToPlay"}},[s("h3",{staticClass:"title is-3"},[t._v("How to play")]),t._v(" "),s("div",[s("p",[t._v("In this game, teamwork is a must. Communicate with the other player to control the Snake and eat the food. Be careful not to run into yourself or fall off the map in the process.")])]),t._v(" "),s("div",{staticClass:"controls"},[s("h5",{staticClass:"title is-5"},[t._v("Controls")]),t._v(" "),s("h6",{staticClass:"subtitle is-6"},[t._v("W - UP")]),t._v(" "),s("h6",{staticClass:"subtitle is-6"},[t._v("A - LEFT")]),t._v(" "),s("h6",{staticClass:"subtitle is-6"},[t._v("S - DOWN")]),t._v(" "),s("h6",{staticClass:"subtitle is-6"},[t._v("D - RIGHT")])])])}]};var c={name:"Chat",data:function(){return{chatText:"",messages:[]}},methods:{sendMessage:function(){this.$store.dispatch("sendMessage",{username:this.$store.getters.currentUser.username,messageText:this.chatText}),this.chatText=""}},computed:{currentChatRoom:function(){return this.messages=[],this.$store.getters.currentChatRoom}},mounted:function(){var t=this;this.$options.sockets.message=function(e){t.messages.push(e)}},updated:function(){var t=document.getElementById("chatMessages");t.scrollTop=t.scrollHeight-t.clientHeight}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"chatContainer"}},[s("div",{attrs:{id:"chatRoomName"}},[s("h6",{staticClass:"title is-6"},[t._v(t._s(t.currentChatRoom))])]),t._v(" "),s("div",{attrs:{id:"chatMessages"}},t._l(t.messages,function(e){return s("div",{key:e.length,staticClass:"chatMessage"},[s("div",[s("span",{staticClass:"messageUsernameText has-text-weight-bold"},[t._v(t._s(e.username))]),t._v(" "),s("span",{staticClass:"messageText"},[t._v(t._s(e.messageText))]),t._v(" "),s("span",{staticClass:"messageTimestampText is-pulled-right"},[t._v(t._s(e.timestamp))])]),t._v(" "),s("hr",{staticClass:"messageHr"})])})),t._v(" "),s("div",{attrs:{id:"chatSendMessage"}},[s("div",{staticClass:"field has-addons"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chatText,expression:"chatText"}],staticClass:"input",attrs:{type:"text",placeholder:"Press Enter to send a chat"},domProps:{value:t.chatText},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendMessage(e):null},input:function(e){e.target.composing||(t.chatText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"control"},[s("a",{staticClass:"button is-info",on:{click:t.sendMessage}},[t._v("\n            Send\n          ")])])])])])},staticRenderFns:[]};var d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"inviteModalContainer"}},[s("div",{staticClass:"modal",class:{"is-active":t.modalActive}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Game Invite")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close","data-bulma-modal":"close"},on:{click:t.dismissModal}})]),t._v(" "),s("section",{staticClass:"modal-card-body"},[s("p",[t._v(t._s(t.inviteUsername)+" has invited you to a game.")])]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-success",on:{click:function(e){t.respondToInvite(!0)}}},[t._v("Accept")]),t._v(" "),s("button",{staticClass:"button",attrs:{"data-bulma-modal":"close"},on:{click:function(e){t.respondToInvite(!1)}}},[t._v("Cancel")])])])])])},staticRenderFns:[]};var u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"playersOnlineContainer"}},[s("div",{staticClass:"modal",class:{"is-active":t.isModalActive}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Players Online")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close","data-bulma-modal":"close"},on:{click:t.dismissModal}})]),t._v(" "),s("section",{staticClass:"modal-card-body"},[s("ul",t._l(t.currentOnlinePlayers,function(e){return s("li",{key:e,on:{click:function(s){t.invitePlayer(e)}}},[s("span",{staticClass:"usernameText"},[t._v(t._s(e))]),t._v(" "),s("a",{staticClass:"button is-info"},[t._v("Invite")])])}))]),t._v(" "),s("footer",{staticClass:"modal-card-foot"})])])])},staticRenderFns:[]};var m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"leaderboardModalContainer"}},[s("div",{staticClass:"modal",class:{"is-active":t.isModalActive}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Leaderboards - Top 10 Games")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close","data-bulma-modal":"close"},on:{click:t.dismissModal}})]),t._v(" "),s("section",{staticClass:"modal-card-body"},[s("table",{staticClass:"table"},[t._m(0),t._v(" "),s("tbody",t._l(t.highscorePlayers,function(e){return s("tr",{key:e.username+e.rank},[s("td",[t._v(t._s(e.rank))]),t._v(" "),s("td",[t._v(t._s(e.username))]),t._v(" "),s("td",[t._v(t._s(e.score))])])}))])]),t._v(" "),s("footer",{staticClass:"modal-card-foot"})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Rank")]),this._v(" "),e("th",[this._v("Username")]),this._v(" "),e("th",[this._v("Score")])])])}]};var v={name:"Home",params:["reload"],components:{Game:s("VU/8")(i,o,!1,function(t){s("FzvS")},"data-v-3bf082ac",null).exports,Chat:s("VU/8")(c,l,!1,function(t){s("q0Kl")},"data-v-d87f8176",null).exports,InviteModal:s("VU/8")({name:"InviteModal",data:function(){return{modalActive:!1,inviteUsername:""}},methods:{dismissModal:function(){this.modalActive=!1,this.inviteUsername=""},respondToInvite:function(t){this.$store.dispatch("inviteResponse",{answer:t,inviteeUsername:this.inviteUsername}),this.dismissModal(),this.inviteUsername=""}},created:function(){var t=this;this.$options.sockets.gameInvite=function(e){t.inviteUsername=e,t.modalActive=!0}}},d,!1,function(t){s("hsho")},"data-v-3dfd9212",null).exports,PlayersModal:s("VU/8")({name:"PlayersModal",data:function(){return{currentOnlinePlayers:[]}},methods:{dismissModal:function(){this.$store.commit("TOGGLE_SHOW_PLAYERS")},invitePlayer:function(t){this.$store.dispatch("invitePlayer",t),this.dismissModal()}},computed:{isModalActive:function(){return this.$store.getters.showOnlinePlayers}},created:function(){var t=this;this.$options.sockets.currentOnlinePlayers=function(e){t.currentOnlinePlayers=e}}},u,!1,function(t){s("RvZ5")},"data-v-39437162",null).exports,LeaderboardModal:s("VU/8")({name:"LeaderboardModal",data:function(){return{modalActive:!1,highscorePlayers:[]}},methods:{dismissModal:function(){this.$store.commit("TOGGLE_LEADERBOARDS")}},computed:{isModalActive:function(){return this.$store.getters.showLeaderboards}},created:function(){var t=this;this.$options.sockets.currentLeaderboards=function(e){t.highscorePlayers=e}}},m,!1,function(t){s("PLJF")},"data-v-fa018974",null).exports},computed:{shouldReload:function(){return this.$store.getters.getInitReload}},mounted:function(){!0===this.shouldReload&&(this.$store.dispatch("setReload"),location.reload())}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("Game"),this._v(" "),e("Chat"),this._v(" "),e("InviteModal"),this._v(" "),e("PlayersModal"),this._v(" "),e("LeaderboardModal")],1)},staticRenderFns:[]};var f=s("VU/8")(v,h,!1,function(t){s("ZegC")},"data-v-05222500",null).exports,p=s("mvHQ"),g=s.n(p),_={name:"Login",data:function(){return{user:{username:"",password:""},errors:[]}},methods:{login:function(){var t=this;this.errors=[],this.$store.commit("LOGIN"),this.axios.post("https://shrouded-eyrie-80233.herokuapp.com/api/login",this.user).then(function(e){t.$store.commit("LOGIN_SUCCESS",e.data.user),localStorage.setItem("user",g()(e.data.user)),t.$router.push("/Home")}).catch(function(e){e.response.data.message&&t.errors.push(e.response.data.message),t.$store.commit("LOGIN_FAILURE")})},clearErrors:function(){this.errors=[]}},computed:{isLoading:function(){return this.$store.getters.isLoading}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-img"},[s("div",{staticClass:"container"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth has-top-spacer"},[s("form",[s("div",{staticClass:"box"},[s("h3",{staticClass:"title is-3 has-text-centered"},[t._v("Log In")]),t._v(" "),t.errors.length?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[s("div",[s("ul",t._l(t.errors,function(e){return s("li",{key:e},[t._v(t._s(e))])}))])])]):t._e(),t._v(" "),s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.user.username},on:{click:t.clearErrors,input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{click:t.clearErrors,input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),t._m(1)])]),t._v(" "),s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":t.isLoading},on:{click:t.login}},[t._v("Log In")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"has-text-centered"},[s("span",[t._v("Don't have an account?")]),t._v(" "),s("router-link",{attrs:{tag:"a",to:"/Signup"}},[s("a",[t._v("Sign Up")])])],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])}]};var w=s("VU/8")(_,C,!1,function(t){s("WQWm")},"data-v-43d29f8e",null).exports,y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-img"},[s("div",{staticClass:"container"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth has-top-spacer"},[s("form",[s("div",{staticClass:"box"},[s("h3",{staticClass:"title is-3 has-text-centered"},[t._v("Sign Up")]),t._v(" "),t.errors.length?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n            Please correct the following and try again:\n            "),s("div",[s("ul",t._l(t.errors,function(e){return s("li",{key:e},[t._v(t._s(e))])}))])])]):t._e(),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.username,expression:"newUser.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.newUser.username},on:{click:t.clearErrors,input:function(e){e.target.composing||t.$set(t.newUser,"username",e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{click:t.clearErrors,input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Re-Enter Password")]),t._v(" "),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.reEnteredPassword,expression:"newUser.reEnteredPassword"}],staticClass:"input",attrs:{type:"password",placeholder:"Re-Enter Password"},domProps:{value:t.newUser.reEnteredPassword},on:{click:t.clearErrors,input:function(e){e.target.composing||t.$set(t.newUser,"reEnteredPassword",e.target.value)}}}),t._v(" "),t._m(2)])]),t._v(" "),s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":t.isLoading},on:{click:t.register}},[t._v("Sign Up")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"has-text-centered"},[s("span",[t._v("Already Sign Up?")]),t._v(" "),s("router-link",{attrs:{tag:"a",to:"/Login"}},[s("a",[t._v("Log In")])])],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])}]};var b=s("VU/8")({name:"SignUp",data:function(){return{newUser:{username:"",password:"",reEnteredPassword:""},errors:[]}},methods:{register:function(){var t=this;this.errors=[],this.validateForm()&&this.axios.post("https://shrouded-eyrie-80233.herokuapp.com/api/register",{username:this.newUser.username,password:this.newUser.password}).then(function(e){t.$router.push("/Login")}).catch(function(e){t.errors.push(e.response.data.message)})},validateForm:function(){return this.newUser.username||this.errors.push("Username cannot be empty"),this.newUser.password||this.errors.push("Password cannot be empty"),this.newUser.reEnteredPassword||this.errors.push("Re-Entered password cannot be empty"),this.newUser.password!==this.newUser.reEnteredPassword&&this.errors.push("Passwords do not match"),!this.errors.length},clearErrors:function(){this.errors=[]}},computed:{isLoading:function(){return this.$store.getters.isLoading}}},y,!1,function(t){s("G4OD")},"data-v-b775b550",null).exports,k={name:"Nav",data:function(){return{showDropdown:!1}},methods:{logout:function(){this.$store.commit("LOGOUT"),this.$router.push("/Login")},showOnlineUsersModal:function(){this.$store.commit("TOGGLE_SHOW_PLAYERS"),this.$store.dispatch("getOnlinePlayers")},showLeaderboardModal:function(){this.$store.commit("TOGGLE_LEADERBOARDS"),this.$store.dispatch("getLeaderboards")},reload:function(){window.location.reload()}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"navbar-brand"},[s("router-link",{attrs:{tag:"a",to:"/Home"}},[s("a",{staticClass:"navbar-item",attrs:{href:""}},[s("h4",{staticClass:"title is-4",on:{click:t.reload}},[t._v("2p Snake.io")])])]),t._v(" "),t.isLoggedIn?s("a",{staticClass:"navbar-burger",class:{"is-active":t.showDropdown&&t.isLoggedIn},attrs:{role:"button","aria-label":"menu","aria-expanded":"false"},on:{click:function(e){t.showDropdown=!t.showDropdown}}},[s("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),s("div",{staticClass:"navbar-menu",class:{"is-active":t.showDropdown&&t.isLoggedIn},attrs:{id:"navbarBasicExample"}},[s("div",{staticClass:"navbar-end"},[s("div",{staticClass:"navbar-item"},[s("div",{staticClass:"buttons"},[t.isLoggedIn?s("a",{staticClass:"button is-light",on:{click:t.showLeaderboardModal}},[t._v("\n            Leaderboards\n          ")]):t._e(),t._v(" "),t.isLoggedIn?s("a",{staticClass:"button is-light",on:{click:t.showOnlineUsersModal}},[t._v("\n            Invite\n          ")]):t._e(),t._v(" "),t.isLoggedIn?s("a",{staticClass:"button is-light",on:{click:t.logout}},[t._v("\n            Log Out\n          ")]):t._e()])])])])])])},staticRenderFns:[]};var E={name:"app",components:{Home:f,Login:w,SignUp:b,Nav:s("VU/8")(k,L,!1,function(t){s("j4NX")},"data-v-d21e21ae",null).exports}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Nav"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var R=s("VU/8")(E,O,!1,function(t){s("vb6n")},null,null).exports,S=s("/ocq");a.a.use(S.a);var U,$=new S.a({routes:[{path:"/Login",component:w},{path:"/SignUp",component:b},{path:"/Home",component:f},{path:"/",component:w},{path:"**",component:w}]}),I=s("bOdI"),P=s.n(I),x=s("woOf"),A=s.n(x),M=s("NYxO");a.a.use(M.a);var G,T={isLoggedIn:!!localStorage.getItem("user")||!1,user:JSON.parse(localStorage.getItem("user"))||null,isLoading:!1,showOnlinePlayers:!1,showLeaderboards:!1,socket:{connected:!1,currentRoom:"Room -1",error:!1},initReload:localStorage.getItem("initReload")||!0},N=new M.a.Store({state:A()({},T),mutations:(U={},P()(U,"LOGIN",function(t){t.isLoading=!0}),P()(U,"LOGIN_SUCCESS",function(t,e){t.isLoggedIn=!0,t.isLoading=!1,t.user=e}),P()(U,"LOGIN_FAILURE",function(t){t.isLoggedIn=!1,t.isLoading=!1}),P()(U,"LOGOUT",function(t){t.isLoggedIn=!1,t.user=null,t.showOnlinePlayers=!1,t.showLeaderboards=!1,localStorage.removeItem("user"),localStorage.removeItem("initReload"),t.initReload=!0,t.socket={connected:!1,currentRoom:"Room -1",error:!1}}),P()(U,"TOGGLE_SHOW_PLAYERS",function(t){t.showOnlinePlayers=!t.showOnlinePlayers}),P()(U,"TOGGLE_LEADERBOARDS",function(t){t.showLeaderboards=!t.showLeaderboards}),P()(U,"SOCKET_CONNECT",function(t){t.socket.connected=!0}),P()(U,"SOCKET_DISCONNECT",function(t){t.socket.connected=!1}),P()(U,"SOCKET_ROOMCHANGE",function(t,e){t.socket.currentRoom=e[0]}),P()(U,"SOCKET_ERROR",function(t,e){t.socket.error=e.error}),P()(U,"RELOAD_ONCE",function(t){t.initReload=!1,localStorage.setItem("initReload",!1)}),U),getters:{isLoggedIn:function(t){return t.isLoggedIn},isLoading:function(t){return t.isLoading},getToken:function(t){return t.user&&t.user.token?t.user.token:""},currentChatRoom:function(t){return t.socket.currentRoom},currentUser:function(t){return t.user},showOnlinePlayers:function(t){return t.showOnlinePlayers},showLeaderboards:function(t){return t.showLeaderboards},getInitReload:function(t){return t.initReload}},actions:{sendMessage:function(t,e){t.commit;j.$socket.emit("SEND_MESSAGE",e)},sendGameCommand:function(t,e){t.commit;j.$socket.emit("GAME_COMMAND",e)},invitePlayer:function(t,e){t.commit;j.$socket.emit("invitePlayer",e)},inviteResponse:function(t,e){t.commit;j.$socket.emit("inviteResponse",e)},playAgain:function(t,e){t.commit;j.$socket.emit("PLAY_AGAIN",e)},getOnlinePlayers:function(){j.$socket.emit("getOnlinePlayers")},getLeaderboards:function(){j.$socket.emit("getLeaderboards")},readyUp:function(t){var e=t.state;j.$socket.emit("GAME_READY_UP",e.socket.currentRoom)},setReload:function(t){t.state;(0,t.commit)("RELOAD_ONCE")}}}),D=s("mtWM"),F=s.n(D),B=s("Rf8U"),H=s.n(B),W=s("hMcO"),V=s.n(W),K=s("DmT9"),Y=s.n(K),J=s("OLUw"),q=s.n(J),Z=(s("GK12"),s("7t+N"));window.$=Z,a.a.config.productionTip=!1,G=null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:"",a.a.use(H.a,F.a),a.a.use(V.a,Y()("https://shrouded-eyrie-80233.herokuapp.com",{query:{token:G}}),N),$.beforeEach(function(t,e,s){var a=!["/Login","/Signup"].includes(t.path),n=localStorage.getItem("user");if(a&&!n)return s("/Login");s()});var j=e.default=new a.a({el:"#app",router:$,store:N,sockets:q.a,render:function(t){return t(R)}})},OLUw:function(t,e){t.exports={connect:function(){},roomChange:function(t){},broadcast:function(t){}}},PLJF:function(t,e){},RvZ5:function(t,e){},WQWm:function(t,e){},ZegC:function(t,e){},hsho:function(t,e){},j4NX:function(t,e){},q0Kl:function(t,e){},vb6n:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.18dc0b8c871c042c8120.js.map